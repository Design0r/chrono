import{c as h,y,b as _,e as j,d as S,j as r,E}from"./index-FCULOOeG.js";import{a as N}from"./LoadingSpinner-D6zxYydx.js";function v(){const e=h.c(24),{chrono:a}=y.useRouteContext(),{addToast:p,addErrorToast:x}=_();let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=["settings"],e[0]=c):c=e[0];let d;e[1]!==a?(d={queryKey:c,queryFn:()=>a.settings.getSettings(),staleTime:3e4,gcTime:3e5,retry:!1},e[1]=a,e[2]=d):d=e[2];const s=j(d);let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=["settings","signup_enabled"],e[3]=m):m=e[3];let n;e[4]!==a?(n=t=>a.settings.updateSettings(t),e[4]=a,e[5]=n):n=e[5];let o;e[6]!==p?(o=()=>p("Updated settings","success"),e[6]=p,e[7]=o):o=e[7];let i;e[8]!==x?(i=t=>x(t),e[8]=x,e[9]=i):i=e[9];let u;e[10]!==n||e[11]!==o||e[12]!==i?(u={mutationKey:m,mutationFn:n,onSuccess:o,onError:i,retry:!1},e[10]=n,e[11]=o,e[12]=i,e[13]=u):u=e[13];const b=S(u);if(s.isPending){let t;return e[14]===Symbol.for("react.memo_cache_sentinel")?(t=r.jsx(N,{}),e[14]=t):t=e[14],t}if(s.isError){let t;return e[15]!==s.error?(t=r.jsx(E,{error:s.error}),e[15]=s.error,e[16]=t):t=e[16],t}let g;e[17]===Symbol.for("react.memo_cache_sentinel")?(g=r.jsx("div",{className:"col-start-1 mb-0 ",children:r.jsx("p",{className:"mb-0 text-lg",children:"Signup enabled"})}),e[17]=g):g=e[17];let l;e[18]!==b||e[19]!==s.data?(l=t=>{b.mutate({...s.data,signup_enabled:t.target.checked})},e[18]=b,e[19]=s.data,e[20]=l):l=e[20];let f;return e[21]!==s.data.signup_enabled||e[22]!==l?(f=r.jsx("div",{className:"pt-2 m-2",children:r.jsxs("div",{className:"space-y-2 bg-base-300 p-4 max-w-sm w-full rounded-xl grid grid-cols-2 justify-center mx-auto",children:[g,r.jsx("div",{className:"flex justify-end col-start-2",children:r.jsx("input",{defaultChecked:s.data.signup_enabled,onChange:l,type:"checkbox",className:"toggle border-error text-error checked:border-success checked:text-success"})})]})}),e[21]=s.data.signup_enabled,e[22]=l,e[23]=f):f=e[23],f}export{v as component};
