import{c as T,x as R,r as k,v as S,b as C,e as q,d as Q,j as s,E as F}from"./index-scuc6wOk.js";import{a as K}from"./LoadingSpinner-BG50gl_7.js";function $(){const e=T.c(29),{chrono:n}=R.useRouteContext(),_=k.useRef(null),y=S(),{addToast:h,addErrorToast:g}=C();let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=["users","vacation"],e[0]=m):m=e[0];let d;e[1]!==n?(d={queryKey:m,queryFn:()=>n.users.getUsers(),staleTime:18e5,gcTime:36e5,retry:!1},e[1]=n,e[2]=d):d=e[2];const r=q(d),[j,E]=k.useState(0);let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=["tokens"],e[3]=f):f=e[3];let a;e[4]!==n?(a=t=>n.tokens.createTokens(Number.parseInt(_.current.value),t),e[4]=n,e[5]=a):a=e[5];let o;e[6]!==h||e[7]!==y?(o=(t,N)=>(h(`Added ${N} tokens`,"success"),y.invalidateQueries({queryKey:["users"]})),e[6]=h,e[7]=y,e[8]=o):o=e[8];let l;e[9]!==g?(l=t=>g(t),e[9]=g,e[10]=l):l=e[10];let p;e[11]!==a||e[12]!==o||e[13]!==l?(p={mutationKey:f,mutationFn:a,onSuccess:o,onError:l,retry:!1},e[11]=a,e[12]=o,e[13]=l,e[14]=p):p=e[14];const v=Q(p);if(r.isPending){let t;return e[15]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(K,{}),e[15]=t):t=e[15],t}if(r.isError){let t;return e[16]!==r.error?(t=s.jsx(F,{error:r.error}),e[16]=r.error,e[17]=t):t=e[17],t}let i;e[18]!==r.data?(i=r.data.map(P),e[18]=r.data,e[19]=i):i=e[19];let c;e[20]!==i?(c=s.jsx("select",{ref:_,className:"col-span-1 select min-w-56 min-h-14 h-full focus:border-0 border-0 bg-base-300 hover:bg-base-300 transition-color text-lg rounded-xl",name:"filter",children:i}),e[20]=i,e[21]=c):c=e[21];let x;e[22]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx("label",{children:s.jsx("input",{className:"input input-bordered",name:"token",type:"number",step:"0.5",defaultValue:0,onChange:t=>E(Number.parseFloat(t.target.value))})}),e[22]=x):x=e[22];let u;e[23]!==v||e[24]!==j?(u=s.jsx("button",{onClick:()=>v.mutate(j),className:"btn text-white btn-primary bg-primary/80 hover:bg-primary animate-color",children:"Add Token"}),e[23]=v,e[24]=j,e[25]=u):u=e[25];let b;return e[26]!==u||e[27]!==c?(b=s.jsx("div",{className:"flex my-10",children:s.jsx("div",{className:"align-middle flex m-auto",children:s.jsx("div",{children:s.jsxs("div",{className:"flex flex-col space-y-2",children:[c,x,u]})})})}),e[26]=u,e[27]=c,e[28]=b):b=e[28],b}function P(e){return s.jsx("option",{label:e.username,value:e.id,children:e.username},e.id)}export{$ as component};
