import{c as U,f as k,h as $,r as P,e as z,s as B,i as G,k as A,j as l,E as H,l as I,m as J}from"./index-scuc6wOk.js";import{a as M}from"./LoadingSpinner-BG50gl_7.js";function Z(){const e=U.c(56),{chrono:q}=k.useRouteContext(),F=$(),n=k.useSearch(),[t,w]=P.useState(),[s,L]=P.useState();let j;e[0]!==n.endDate||e[1]!==n.startDate?(j=()=>{n.startDate?w(n.startDate):w(void 0),n.endDate?L(n.endDate):L(void 0)},e[0]=n.endDate,e[1]=n.startDate,e[2]=j):j=e[2];let D;e[3]!==n?(D=[n],e[3]=n,e[4]=D):D=e[4],P.useEffect(j,D);let y;e[5]!==s||e[6]!==F||e[7]!==t?(y=()=>{F({to:"/timestamps",search:{startDate:t,endDate:s}})},e[5]=s,e[6]=F,e[7]=t,e[8]=y):y=e[8];let _;e[9]!==s||e[10]!==t?(_=[t,s],e[9]=s,e[10]=t,e[11]=_):_=e[11],P.useEffect(y,_);let i;e[12]!==s||e[13]!==t?(i=["timestamps",t,s],e[12]=s,e[13]=t,e[14]=i):i=e[14];let o;e[15]!==q||e[16]!==s||e[17]!==t?(o=()=>q.timestamps.getAllForUser(t,s),e[15]=q,e[16]=s,e[17]=t,e[18]=o):o=e[18];let E;e[19]!==i||e[20]!==o?(E={queryKey:i,queryFn:o,staleTime:6e4,gcTime:18e5,retry:!1},e[19]=i,e[20]=o,e[21]=E):E=e[21];const Q=z(E),V=[Q],K=V.some(W),S=V.find(O)?.error;if(K){let a;return e[22]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(M,{}),e[22]=a):a=e[22],a}if(S){let a;return e[23]!==S?(a=l.jsx(H,{error:S}),e[23]=S,e[24]=a):a=e[24],a}const c=Q.data;let T;e[25]!==c?(T=B(G(c)),e[25]=c,e[26]=T):T=e[26];const r=T;let b;e[27]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsx("span",{children:"Start Date"}),e[27]=b):b=e[27];let m;e[28]!==t?(m=t&&A(t),e[28]=t,e[29]=m):m=e[29];let v;e[30]===Symbol.for("react.memo_cache_sentinel")?(v=a=>w(a.target.value),e[30]=v):v=e[30];let f;e[31]!==m?(f=l.jsxs("label",{className:"space-x-2 flex flex-col lg:flex-row items-center",children:[b,l.jsx("input",{type:"date",className:"input",defaultValue:m,onChange:v})]}),e[31]=m,e[32]=f):f=e[32];let N;e[33]===Symbol.for("react.memo_cache_sentinel")?(N=l.jsx("span",{children:"End Date"}),e[33]=N):N=e[33];let u;e[34]!==s?(u=s&&A(s),e[34]=s,e[35]=u):u=e[35];let C;e[36]===Symbol.for("react.memo_cache_sentinel")?(C=a=>L(a.target.value),e[36]=C):C=e[36];let d;e[37]!==u?(d=l.jsxs("label",{className:"space-x-2 flex flex-col lg:flex-row items-center",children:[N,l.jsx("input",{type:"date",className:"input",defaultValue:u,onChange:C})]}),e[37]=u,e[38]=d):d=e[38];let p;e[39]!==f||e[40]!==d?(p=l.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[f,d]}),e[39]=f,e[40]=d,e[41]=p):p=e[41];let x;e[42]!==r.hours||e[43]!==r.minutes||e[44]!==r.seconds?(x=l.jsxs("h2",{className:"text-lg text-center xl:text-left",children:["Total Duration: ",r.hours,"h ",r.minutes,"m ",r.seconds,"s"]}),e[42]=r.hours,e[43]=r.minutes,e[44]=r.seconds,e[45]=x):x=e[45];let h;e[46]!==c?(h=l.jsx(I,{timestamps:c}),e[46]=c,e[47]=h):h=e[47];let g;e[48]!==s||e[49]!==t?(g=l.jsx(J,{startDate:t,endDate:s}),e[48]=s,e[49]=t,e[50]=g):g=e[50];let R;return e[51]!==p||e[52]!==x||e[53]!==h||e[54]!==g?(R=l.jsxs("div",{className:"flex flex-col container mx-auto justify-center align-middle gap-6 p-4",children:[p,x,h,g]}),e[51]=p,e[52]=x,e[53]=h,e[54]=g,e[55]=R):R=e[55],R}function O(e){return e.isError}function W(e){return e.isPending}export{Z as component};
