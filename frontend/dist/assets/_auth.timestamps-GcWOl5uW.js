import{c as z,f as K,h as B,r as F,e as G,s as H,i as I,k as U,j as a,E as J,l as M,m as O}from"./index-FCULOOeG.js";import{a as W}from"./LoadingSpinner-D6zxYydx.js";function te(){const e=z.c(58),{chrono:w}=K.useRouteContext(),L=B(),r=K.useSearch(),[t,Q]=F.useState(),[s,V]=F.useState();let j;e[0]!==r.endDate||e[1]!==r.startDate?(j=()=>{r.startDate?Q(r.startDate):Q(void 0),r.endDate?V(r.endDate):V(void 0)},e[0]=r.endDate,e[1]=r.startDate,e[2]=j):j=e[2];let D;e[3]!==r?(D=[r],e[3]=r,e[4]=D):D=e[4],F.useEffect(j,D);let y;e[5]!==s||e[6]!==L||e[7]!==t?(y=()=>{L({to:"/timestamps",search:{startDate:t,endDate:s}})},e[5]=s,e[6]=L,e[7]=t,e[8]=y):y=e[8];let _;e[9]!==s||e[10]!==t?(_=[t,s],e[9]=s,e[10]=t,e[11]=_):_=e[11],F.useEffect(y,_);let i;e[12]!==s||e[13]!==t?(i=["timestamps",t,s],e[12]=s,e[13]=t,e[14]=i):i=e[14];let o;e[15]!==w||e[16]!==s||e[17]!==t?(o=()=>w.timestamps.getAllForUser(t,s),e[15]=w,e[16]=s,e[17]=t,e[18]=o):o=e[18];let S;e[19]!==i||e[20]!==o?(S={queryKey:i,queryFn:o,staleTime:6e4,gcTime:18e5,retry:!1},e[19]=i,e[20]=o,e[21]=S):S=e[21];const k=G(S),A=[k],$=A.some(Y),T=A.find(X)?.error;if($){let l;return e[22]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx(W,{}),e[22]=l):l=e[22],l}if(T){let l;return e[23]!==T?(l=a.jsx(J,{error:T}),e[23]=T,e[24]=l):l=e[24],l}const c=k.data;let E;e[25]!==c?(E=H(I(c)),e[25]=c,e[26]=E):E=e[26];const n=E;let b;e[27]===Symbol.for("react.memo_cache_sentinel")?(b=a.jsx("span",{children:"Start Date"}),e[27]=b):b=e[27];let m;e[28]!==t?(m=t&&U(t),e[28]=t,e[29]=m):m=e[29];let v;e[30]===Symbol.for("react.memo_cache_sentinel")?(v=l=>Q(l.target.value),e[30]=v):v=e[30];let f;e[31]!==m?(f=a.jsxs("label",{className:"space-x-2 flex flex-col lg:flex-row items-center",children:[b,a.jsx("input",{type:"date",className:"input",defaultValue:m,onChange:v})]}),e[31]=m,e[32]=f):f=e[32];let N;e[33]===Symbol.for("react.memo_cache_sentinel")?(N=a.jsx("span",{children:"End Date"}),e[33]=N):N=e[33];let u;e[34]!==s?(u=s&&U(s),e[34]=s,e[35]=u):u=e[35];let C;e[36]===Symbol.for("react.memo_cache_sentinel")?(C=l=>V(l.target.value),e[36]=C):C=e[36];let d;e[37]!==u?(d=a.jsxs("label",{className:"space-x-2 flex flex-col lg:flex-row items-center",children:[N,a.jsx("input",{type:"date",className:"input",defaultValue:u,onChange:C})]}),e[37]=u,e[38]=d):d=e[38];let x;e[39]!==f||e[40]!==d?(x=a.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[f,d]}),e[39]=f,e[40]=d,e[41]=x):x=e[41];let p;e[42]!==n.hours||e[43]!==n.minutes||e[44]!==n.seconds?(p=a.jsxs("h2",{className:"text-lg text-center xl:text-left",children:["Total Duration: ",n.hours,"h ",n.minutes,"m ",n.seconds,"s"]}),e[42]=n.hours,e[43]=n.minutes,e[44]=n.seconds,e[45]=p):p=e[45];let h;e[46]!==c?(h=a.jsx(M,{timestamps:c}),e[46]=c,e[47]=h):h=e[47];let R,P;e[48]===Symbol.for("react.memo_cache_sentinel")?(R=a.jsx("hr",{}),P=a.jsx("h2",{children:"Team Timestamps"}),e[48]=R,e[49]=P):(R=e[48],P=e[49]);let g;e[50]!==s||e[51]!==t?(g=a.jsx(O,{startDate:t,endDate:s}),e[50]=s,e[51]=t,e[52]=g):g=e[52];let q;return e[53]!==x||e[54]!==p||e[55]!==h||e[56]!==g?(q=a.jsxs("div",{className:"flex flex-col container mx-auto justify-center align-middle gap-6 p-4",children:[x,p,h,R,P,g]}),e[53]=x,e[54]=p,e[55]=h,e[56]=g,e[57]=q):q=e[57],q}function X(e){return e.isError}function Y(e){return e.isPending}export{te as component};
